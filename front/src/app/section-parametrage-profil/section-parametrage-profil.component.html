<div id="bloc_modification_parametrage">
  <div class="bloc_modification_parametrage_choix">
    <p>Quel type de modification souhaitez-vous ?</p>
    <input type="radio" value="create" name="type_modification"
           (change)="setTypeModification('create')"/>Créer un nouveau profil<br />
    <input type="radio" value="update" name="type_modification"
           (change)="setTypeModification('update')"/>Modifier un profil existant<br />
    <input type="radio" value="publier" name="type_modification"
           (change)="setTypeModification('delete')"/>Supprimer un profil existant<br /><br />
  </div>

<!-- formulaire pour les créations de profil -->
  <div class="bloc_modification_parametrage_form"
        *ngIf="typeModification === 'create'">
    <table>
      <caption>Liste des profils actuels et les droits associés</caption>
      <tr>
        <th>Profil</th>
        <th>Droits</th>
      </tr>
      <ng-container *ngFor="let profil of allProfils">
        <tr>
          <td>{{ profil.nom }}</td>
          <td>
            <ng-container *ngFor="let droit of profil.droits">
              {{ droit.nom }},
            </ng-container>
          </td>
        </tr>
      </ng-container>
    </table>

    <form (ngSubmit)="createProfil(f)" #f="ngForm">
      <p>
        <em>Complétez les champs obligatoires : </em><br /><br />
        <label for="nom">nom court : </label>
        <input type="text" id="nom" name="nom" ngModel required><br /><br />
        <label for="description"> description : </label>
        <input type="text" id="description" name="description" ngModel required><br /><br />
        <em>Cochez les droits assocés au profil : </em><br /><br />
        <ng-container *ngFor="let droit of allDroits">
          <input type="checkbox" name="{{ droit.nom }}" id="{{ droit.nom }}" ngModel/>
          <label for="{{ droit.nom }}">{{ droit.nom }}</label><br />
        </ng-container>
        <br /><br />

        <button class="bouton_bleu" type="submit" [disabled]="f.invalid">Créer profil</button>
      </p>
    </form>

  </div>

</div>


